import{_ as C}from"./B0m9f-NN.js";import{r as m,e as z,j as P,u as j,c as l,o as i,a as e,h as p,t as d,g as s,F as M,m as S,v as D,b as V}from"./sX_wM5Ua.js";import{_ as I}from"./DlAUqK2U.js";const U={class:"diagnostic-container"},E={class:"flex items-center justify-between mb-6"},F={class:"flex items-center space-x-2"},N={class:"text-sm text-gray-600 dark:text-gray-400"},O={class:"flex space-x-1"},q={class:"diagnostic-main"},A={class:"tv-screen-container"},H={class:"tv-screen"},R=["src","alt"],L={key:1,class:"w-full h-full flex items-center justify-center"},T={class:"text-center text-white"},W={class:"text-lg"},G={class:"absolute top-4 right-4 bg-black bg-opacity-75 text-white px-3 py-1 rounded text-sm"},J={class:"remote-container"},K={class:"card p-6"},Q={class:"card p-6"},X={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Y={class:"flex-1"},Z={class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},ee={class:"text-gray-600 dark:text-gray-400 mb-4"},te={key:0,class:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-3"},se={class:"flex items-start space-x-2"},oe={class:"text-sm text-blue-800 dark:text-blue-200"},le={class:"flex items-center space-x-3"},ie={key:0,class:"fixed bottom-4 right-4 z-50"},ne=["title"],ae={key:0,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},re={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},de=["src"],ce={__name:"DiagnosticScreen",props:{device:{type:Object,required:!0},error:{type:Object,required:!0}},emits:["back","restart"],setup(h,{emit:f}){const v=h,x=f,r=m([]);z(async()=>{try{const a=await $fetch(`/api/steps/${v.device.id}/${v.error.id}`);r.value=a.map(t=>({...t,highlightedButton:t.highlighted_button,screenImage:t.screen_image,audioUrl:t.audio_url}))}catch(a){console.error("Failed to load steps:",a),r.value=[{id:1,title:"–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è",instruction:"–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∫–∞–±–µ–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É POWER –Ω–∞ –ø—É–ª—å—Ç–µ.",tip:"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–Ω—Ç–µ–Ω–Ω—ã–π –∫–∞–±–µ–ª—å –ø–ª–æ—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∏—Å—Ç–∞–≤–∫–µ.",highlightedButton:"power",screenImage:null,audioUrl:null}]}});const n=m(0),c=m(!1),g=m(null),o=P(()=>r.value[n.value]),_=()=>{n.value<r.value.length-1&&n.value++},y=()=>{n.value>0&&n.value--},k=a=>{console.log("Button pressed:",a),o.value.highlightedButton===a&&setTimeout(()=>{_()},1e3)},w=()=>{g.value&&(c.value?g.value.pause():g.value.play())},B=()=>{alert("–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É."),x("restart")};return j({title:`–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ ${v.device.name} - ${v.error.title}`}),(a,t)=>{const $=C;return i(),l("div",U,[e("div",E,[e("button",{onClick:t[0]||(t[0]=u=>a.$emit("back")),class:"btn-secondary"}," ‚Üê –ù–∞–∑–∞–¥ –∫ –æ—à–∏–±–∫–∞–º "),e("div",F,[e("span",N," –®–∞–≥ "+d(s(n)+1)+" –∏–∑ "+d(s(r).length),1),e("div",O,[(i(!0),l(M,null,S(s(r),(u,b)=>(i(),l("div",{key:b,class:D(["w-2 h-2 rounded-full transition-colors",b<=s(n)?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"])},null,2))),128))])]),e("button",{onClick:t[1]||(t[1]=u=>a.$emit("restart")),class:"btn-secondary"}," –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ ")]),e("div",q,[e("div",A,[e("div",H,[s(o).screenImage?(i(),l("img",{key:0,src:s(o).screenImage,alt:s(o).title,class:"w-full h-full object-cover"},null,8,R)):(i(),l("div",L,[e("div",T,[t[5]||(t[5]=e("div",{class:"text-6xl mb-4"},"üì∫",-1)),e("p",W,d(s(o).title),1)])])),e("div",G,d(h.device.name),1)])]),e("div",J,[e("div",K,[t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 text-center"}," –ü—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ",-1)),V($,{device:h.device,"highlighted-button":s(o).highlightedButton,onButtonPress:k},null,8,["device","highlighted-button"])])])]),e("div",Q,[e("div",X,[e("div",Y,[e("h3",Z,d(s(o).title),1),e("p",ee,d(s(o).instruction),1),s(o).tip?(i(),l("div",te,[e("div",se,[t[7]||(t[7]=e("svg",{class:"w-5 h-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),e("p",oe,d(s(o).tip),1)])])):p("",!0)]),e("div",le,[s(n)>0?(i(),l("button",{key:0,onClick:y,class:"btn-secondary"}," ‚Üê –ù–∞–∑–∞–¥ ")):p("",!0),s(n)<s(r).length-1?(i(),l("button",{key:1,onClick:_,class:"btn-primary"}," –î–∞–ª–µ–µ ‚Üí ")):(i(),l("button",{key:2,onClick:B,class:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200"}," –ó–∞–≤–µ—Ä—à–∏—Ç—å "))])])]),s(o).audioUrl?(i(),l("div",ie,[e("button",{onClick:w,class:"bg-primary-600 hover:bg-primary-700 text-white p-3 rounded-full shadow-lg transition-all duration-200",title:s(c)?"–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–∑–≤—É—á–∫—É":"–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–∑–≤—É—á–∫—É"},[s(c)?(i(),l("svg",ae,t[8]||(t[8]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(i(),l("svg",re,t[9]||(t[9]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)])))],8,ne),e("audio",{ref_key:"audioPlayer",ref:g,src:s(o).audioUrl,onEnded:t[2]||(t[2]=u=>c.value=!1),onPlay:t[3]||(t[3]=u=>c.value=!0),onPause:t[4]||(t[4]=u=>c.value=!1)},null,40,de)])):p("",!0)])}}},me=I(ce,[["__scopeId","data-v-2164320e"]]);export{me as _};
