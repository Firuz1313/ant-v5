import{r as g,e as T,j as Z,u as ee,c as l,a as e,h as f,B as E,g as o,t as u,x as z,C as te,z as M,y as B,F as D,m as I,v as L,D as C,o as a,p as re}from"./sX_wM5Ua.js";const se={class:"p-6 space-y-8"},oe={class:"flex items-center justify-between"},le={class:"flex space-x-3"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},ne={class:"bg-white dark:bg-dark-100 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg"},de={class:"flex items-center space-x-4"},ie={class:"text-2xl font-bold text-gray-900 dark:text-white"},ue={class:"bg-white dark:bg-dark-100 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg"},ge={class:"flex items-center space-x-4"},ce={class:"text-2xl font-bold text-gray-900 dark:text-white"},pe={class:"bg-white dark:bg-dark-100 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg"},xe={class:"flex items-center space-x-4"},ve={class:"text-2xl font-bold text-gray-900 dark:text-white"},be={class:"bg-white dark:bg-dark-100 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg"},fe={class:"flex items-center space-x-4"},ye={class:"text-2xl font-bold text-gray-900 dark:text-white"},he={class:"bg-white dark:bg-dark-100 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg"},me={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},ke={class:"md:col-span-2"},we={class:"relative"},ze={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},Me={class:"flex items-center justify-between"},Ce={class:"text-sm text-gray-600 dark:text-gray-400"},_e={class:"bg-white dark:bg-dark-100 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg overflow-hidden"},He={class:"p-6"},Be={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4"},De={key:1,class:"text-center py-12"},Ie={class:"text-gray-600 dark:text-gray-400 mb-6"},je={key:2,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4"},Ve=["onClick"],Le={key:0,class:"absolute top-2 left-2 z-10"},Se={key:0,class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20"},$e={class:"aspect-square flex items-center justify-center mb-3 rounded-lg overflow-hidden bg-white dark:bg-gray-900"},Ue=["src","alt"],Ae={class:"space-y-1"},Te={class:"text-xs font-medium text-gray-900 dark:text-white truncate"},Ee={class:"flex items-center justify-between"},Ne={class:"text-xs text-gray-500 dark:text-gray-400 capitalize"},Oe={class:"text-xs text-gray-500 dark:text-gray-400"},Fe={key:0,class:"flex flex-wrap gap-1"},Pe={key:0,class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full"},Re={key:1,class:"text-xs text-gray-400 dark:text-gray-500"},qe={key:1,class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100"},Ge={class:"flex space-x-2"},Ke=["onClick"],Qe=["onClick"],Xe=["onClick"],Je={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},We={class:"bg-white dark:bg-dark-100 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden"},Ye={class:"p-6"},Ze={class:"mt-6"},et={key:0,class:"mt-6 space-y-3"},tt={class:"flex items-center justify-between"},rt={class:"text-sm text-gray-600 dark:text-gray-400"},st={class:"text-sm font-medium text-gray-900 dark:text-white"},ot={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},nt={__name:"media",setup(lt){const j=g(!1),c=g(!1),n=g([]),h=g(!1),_=g(!1),V=g("icon"),p=g([]),y=g(""),m=g(""),k=g(""),H=g("name"),w=g({total:0,icons:0,remotes:0,steps:0}),S=async()=>{j.value=!0;try{const s=await $fetch("/api/admin/media");s.success&&(x.value=s.files,w.value=s.stats)}catch(s){console.error("Failed to load media files:",s)}finally{j.value=!1}};T(()=>{S()});const x=g([{id:1,name:"openbox-icon.png",url:"/images/openbox-icon.png",type:"icon",size:45120,usedIn:["Openbox GOLD","Openbox"],uploadDate:"2024-01-15"},{id:2,name:"hdbox-remote.png",url:"/images/hdbox-remote.png",type:"remote",size:128340,usedIn:["HDBOX"],uploadDate:"2024-01-14"},{id:3,name:"step-check-signal.jpg",url:"/images/step-signal.jpg",type:"step",size:89600,usedIn:["Шаг 1: Проверка сигнала"],uploadDate:"2024-01-13"},{id:4,name:"uclan-icon.svg",url:"/images/uclan-icon.svg",type:"icon",size:12800,usedIn:[],uploadDate:"2024-01-12"},{id:5,name:"universal-remote.png",url:"/images/universal-remote.png",type:"remote",size:156780,usedIn:["Универсальный пульт"],uploadDate:"2024-01-11"}]),$=Z(()=>{let s=[...x.value];return y.value&&(s=s.filter(t=>t.name.toLowerCase().includes(y.value.toLowerCase()))),m.value&&(s=s.filter(t=>t.type===m.value)),k.value==="used"?s=s.filter(t=>t.usedIn&&t.usedIn.length>0):k.value==="unused"&&(s=s.filter(t=>!t.usedIn||t.usedIn.length===0)),s.sort((t,r)=>{switch(H.value){case"name":return t.name.localeCompare(r.name);case"date":return new Date(r.uploadDate)-new Date(t.uploadDate);case"size":return r.size-t.size;case"type":return t.type.localeCompare(r.type);default:return 0}}),s}),N=s=>{const t=n.value.indexOf(s);t>-1?n.value.splice(t,1):n.value.push(s)},O=s=>{console.log("Showing details for:",s.name)},F=s=>{console.log("Setting as icon:",s.name)},P=s=>{console.log("Setting as remote:",s.name)},R=s=>{if(confirm(`Вы уверены, что хотите удалить файл "${s.name}"?`)){const t=x.value.findIndex(r=>r.id===s.id);t>-1&&x.value.splice(t,1)}},q=()=>{console.log("Setting as icon for files:",n.value),n.value=[],c.value=!1},G=()=>{console.log("Setting as remote for files:",n.value),n.value=[],c.value=!1},K=()=>{confirm(`Вы уверены, что хотите удалить выбранные файлы (${n.value.length})?`)&&(x.value=x.value.filter(s=>!n.value.includes(s.id)),n.value=[],c.value=!1)},U=()=>{h.value=!1,p.value=[]},Q=s=>{s.preventDefault(),_.value=!1;const t=Array.from(s.dataTransfer.files);A(t)},X=s=>{const t=Array.from(s.target.files);A(t)},A=async s=>{for(const t of s){const r=Date.now()+Math.random();p.value.push({id:r,name:t.name,percent:0});try{const i=new FormData;i.append("file",t);const v=await $fetch("/api/admin/media/upload",{method:"POST",body:i,onUploadProgress:b=>{const d=p.value.find(Y=>Y.id===r);d&&(d.percent=Math.round(b.loaded/b.total*100))}});if(v.success){const b=p.value.find(d=>d.id===r);b&&(b.percent=100,v.files&&v.files.length>0&&v.files.forEach(d=>{x.value.unshift({id:d.id,name:d.originalName,fileName:d.fileName,url:d.url,type:d.type,category:d.category,size:d.size,usedIn:[],uploadDate:d.uploadedAt.split("T")[0]})}),setTimeout(()=>{p.value=p.value.filter(d=>d.id!==r)},1e3)),await S()}}catch(i){console.error("Upload failed:",i);const v=p.value.find(b=>b.id===r);v&&(v.error=!0)}}},J=s=>{if(s===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,i)).toFixed(2))+" "+r[i]},W=s=>{s.target.src="/images/placeholder.png"};return T(()=>{window.addEventListener("dragenter",s=>{h.value&&(_.value=!0)}),window.addEventListener("dragleave",s=>{s.relatedTarget||(_.value=!1)})}),ee({title:"Медиа-менеджер - Админ панель",meta:[{name:"description",content:"Упр��вление медиафайлами системы диагностики"}]}),(s,t)=>(a(),l("div",se,[e("div",oe,[t[13]||(t[13]=E('<div><h1 class="text-3xl font-bold text-gray-900 dark:text-white flex items-center space-x-3"><div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"></path></svg></div><span>Медиа-менеджер</span></h1><p class="mt-3 text-lg text-gray-600 dark:text-gray-400"> Управление изображениями, иконками и пультами для системы диагностики </p></div>',1)),e("div",le,[e("button",{onClick:t[0]||(t[0]=r=>c.value=!o(c)),class:"px-4 py-2 bg-indigo-100 hover:bg-indigo-200 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 rounded-xl transition-all duration-200 flex items-center space-x-2"},[t[11]||(t[11]=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)),e("span",null,u(o(c)?"Отмена":"Выбрать"),1)]),e("button",{onClick:t[1]||(t[1]=r=>h.value=!0),class:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center space-x-2"},t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm5 6V7a1 1 0 112 0v2h2a1 1 0 110 2h-2v2a1 1 0 11-2 0v-2H7a1 1 0 110-2h2z","clip-rule":"evenodd"})],-1),e("span",null,"Загрузить файлы",-1)]))])]),e("div",ae,[e("div",ne,[e("div",de,[t[15]||(t[15]=e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])],-1)),e("div",null,[e("p",ie,u(o(w).total),1),t[14]||(t[14]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Всего файлов",-1))])])]),e("div",ue,[e("div",ge,[t[17]||(t[17]=e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})])],-1)),e("div",null,[e("p",ce,u(o(w).icons),1),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Иконки устройств",-1))])])]),e("div",pe,[e("div",xe,[t[19]||(t[19]=e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})])],-1)),e("div",null,[e("p",ve,u(o(w).remotes),1),t[18]||(t[18]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Пульты управления",-1))])])]),e("div",be,[e("div",fe,[t[21]||(t[21]=e("div",{class:"w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),e("div",null,[e("p",ye,u(o(w).steps),1),t[20]||(t[20]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Изображения шагов",-1))])])])]),e("div",he,[e("div",me,[e("div",ke,[t[23]||(t[23]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Поиск файлов ",-1)),e("div",we,[z(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>M(y)?y.value=r:null),type:"text",placeholder:"Введите название файла...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-all duration-200"},null,512),[[te,o(y)]]),t[22]||(t[22]=e("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Тип файла ",-1)),z(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>M(m)?m.value=r:null),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-all duration-200"},t[24]||(t[24]=[E('<option value="">Все типы</option><option value="icon">Иконки устройств</option><option value="remote">Пульты</option><option value="step">Изображения шагов</option><option value="other">Прочие</option>',5)]),512),[[B,o(m)]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Использование ",-1)),z(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>M(k)?k.value=r:null),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-all duration-200"},t[26]||(t[26]=[e("option",{value:""},"Все файлы",-1),e("option",{value:"used"},"Используемые",-1),e("option",{value:"unused"},"Неиспользуемые",-1)]),512),[[B,o(k)]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Сортировка ",-1)),z(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>M(H)?H.value=r:null),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-all duration-200"},t[28]||(t[28]=[e("option",{value:"name"},"По имени",-1),e("option",{value:"date"},"По дате",-1),e("option",{value:"size"},"По размеру",-1),e("option",{value:"type"},"По типу",-1)]),512),[[B,o(H)]])])]),o(c)&&o(n).length>0?(a(),l("div",ze,[e("div",Me,[e("p",Ce," Выбрано файлов: "+u(o(n).length),1),e("div",{class:"flex space-x-3"},[e("button",{onClick:q,class:"px-4 py-2 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:hover:bg-green-900/50 text-green-700 dark:text-green-400 rounded-lg transition-colors text-sm"}," Назначить как иконку "),e("button",{onClick:G,class:"px-4 py-2 bg-purple-100 hover:bg-purple-200 dark:bg-purple-900/30 dark:hover:bg-purple-900/50 text-purple-700 dark:text-purple-400 rounded-lg transition-colors text-sm"}," Назначить как пульт "),e("button",{onClick:K,class:"px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-400 rounded-lg transition-colors text-sm"}," Удалить выбранные ")])])])):f("",!0)]),e("div",_e,[e("div",He,[o(j)?(a(),l("div",Be,[(a(),l(D,null,I(16,r=>e("div",{key:r,class:"aspect-square bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"})),64))])):o($).length===0?(a(),l("div",De,[t[30]||(t[30]=e("div",{class:"text-gray-400 mb-4"},[e("svg",{class:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])],-1)),t[31]||(t[31]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"}," Файлы не найдены ",-1)),e("p",Ie,u(o(y)?"Попробуйте изменить поисковый запрос":"Загрузите первые файлы для начала работы"),1),e("button",{onClick:t[6]||(t[6]=r=>h.value=!0),class:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors"}," Загрузить файлы ")])):(a(),l("div",je,[(a(!0),l(D,null,I(o($),r=>(a(),l("div",{key:r.id,class:L(["group relative bg-gray-50 dark:bg-gray-800 rounded-xl p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 cursor-pointer border-2 border-transparent",{"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":o(c)&&o(n).includes(r.id),"hover:border-gray-300 dark:hover:border-gray-600":!o(c)||!o(n).includes(r.id)}]),onClick:i=>o(c)?N(r.id):O(r)},[o(c)?(a(),l("div",Le,[e("div",{class:L(["w-5 h-5 rounded border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 flex items-center justify-center transition-all duration-200",{"bg-blue-500 border-blue-500":o(n).includes(r.id)}])},[o(n).includes(r.id)?(a(),l("svg",Se,t[32]||(t[32]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):f("",!0)],2)])):f("",!0),e("div",$e,[e("img",{src:r.url,alt:r.name,class:"max-w-full max-h-full object-contain",onError:W},null,40,Ue)]),e("div",Ae,[e("h4",Te,u(r.name),1),e("div",Ee,[e("span",Ne,u(r.type),1),e("span",Oe,u(J(r.size)),1)]),r.usedIn&&r.usedIn.length>0?(a(),l("div",Fe,[(a(!0),l(D,null,I(r.usedIn.slice(0,2),i=>(a(),l("span",{key:i,class:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full"},u(i),1))),128)),r.usedIn.length>2?(a(),l("span",Pe," +"+u(r.usedIn.length-2),1)):f("",!0)])):(a(),l("div",Re," Не используется "))]),o(c)?f("",!0):(a(),l("div",qe,[e("div",Ge,[e("button",{onClick:C(i=>F(r),["stop"]),class:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors tooltip",title:"Назначить как иконку"},t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})],-1)]),8,Ke),e("button",{onClick:C(i=>P(r),["stop"]),class:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",title:"Назначить как пульт"},t[34]||(t[34]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})],-1)]),8,Qe),e("button",{onClick:C(i=>R(r),["stop"]),class:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",title:"Удалить файл"},t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,Xe)])]))],10,Ve))),128))]))])]),o(h)?(a(),l("div",Je,[e("div",We,[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},[t[37]||(t[37]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Загрузка файлов",-1)),e("button",{onClick:U,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[36]||(t[36]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))]),e("div",Ye,[e("div",{onDrop:Q,onDragover:t[8]||(t[8]=C(()=>{},["prevent"])),onDragenter:t[9]||(t[9]=C(()=>{},["prevent"])),class:L(["border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center transition-colors",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":o(_)}])},[t[38]||(t[38]=e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t[39]||(t[39]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," Перетащите файлы сюда ",-1)),t[40]||(t[40]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," или нажмите для выбора файлов ",-1)),e("input",{ref:"fileInput",type:"file",multiple:"",accept:"image/*,video/*,audio/*",onChange:X,class:"hidden"},null,544),e("button",{onClick:t[7]||(t[7]=r=>s.$refs.fileInput.click()),class:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors"}," Выбрать файлы ")],34),e("div",Ze,[t[42]||(t[42]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Тип загружаемых файлов ",-1)),z(e("select",{"onUpdate:modelValue":t[10]||(t[10]=r=>M(V)?V.value=r:null),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},t[41]||(t[41]=[e("option",{value:"icon"},"Иконки устройств",-1),e("option",{value:"remote"},"Пульты управления",-1),e("option",{value:"step"},"Изображения шагов",-1),e("option",{value:"other"},"Прочие файлы",-1)]),512),[[B,o(V)]])]),o(p).length>0?(a(),l("div",et,[t[43]||(t[43]=e("h4",{class:"font-semibold text-gray-900 dark:text-white"},"Прогресс загрузки",-1)),(a(!0),l(D,null,I(o(p),r=>(a(),l("div",{key:r.id,class:"space-y-2"},[e("div",tt,[e("span",rt,u(r.name),1),e("span",st,u(r.percent)+"%",1)]),e("div",ot,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:re(`width: ${r.percent}%`)},null,4)])]))),128))])):f("",!0),e("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},[e("button",{onClick:U,class:"px-6 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-xl transition-colors"}," Закрыть ")])])])])):f("",!0)]))}};export{nt as default};
