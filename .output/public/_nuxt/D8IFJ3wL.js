import{_ as U}from"./D4a6TBNS.js";import{_ as V}from"./BsyVCnx8.js";import{_ as j}from"./DJC5Trfq.js";import{f as H,i as z,j as g,r as D,k as C,e as A,u as F,c as m,a as e,h as $,b as J,w as q,t as a,g as t,v as G,s as B,n as K,o as l,d as Q}from"./sX_wM5Ua.js";import{u as O}from"./bGbag7Rw.js";import"./BxAFrtwI.js";import"./DlAUqK2U.js";import"./C3Nop_WK.js";import"./x_rD_Ya3.js";import"./B0m9f-NN.js";import"./BHIvy5Tm.js";import"./DTcQ41cH.js";const W={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-dark-300 dark:to-dark-200"},X={class:"container mx-auto px-4 py-8"},Y={class:"mb-8"},Z={class:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 mb-4"},ee={class:"text-gray-900 dark:text-white font-medium"},te={class:"text-gray-900 dark:text-white font-medium"},oe={class:"flex items-center justify-between"},re={class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},se={class:"text-gray-600 dark:text-gray-400"},ae={class:"flex space-x-3"},ne={key:0},ie={key:1,class:"flex items-center justify-center h-64"},de={key:2,class:"card p-8 text-center"},le={key:3,class:"mt-8 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg"},ce={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},De={__name:"[error]",async setup(me){let i,u;const p=H(),L=z(),c=g(()=>p.params.device),v=g(()=>p.params.error),d=D(!1),x=D(null),N=!1,{data:s,pending:ue}=([i,u]=C(()=>O("/api/devices",{transform:n=>n.find(o=>o.id==c.value)},"$_33aJgOB7h")),i=await i,u(),i),{data:r,pending:pe}=([i,u]=C(()=>O(`/api/errors/${c.value}`,{transform:n=>n.find(o=>o.id==v.value)},"$10we_cvDsH")),i=await i,u(),i);A(()=>{s.value?r.value||(x.value=`–û—à–∏–±–∫–∞ —Å ID ${v.value} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ${s.value.name}`):x.value=`–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å ID ${c.value} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`});const E=()=>{d.value=!d.value},_=()=>{L.back()},f=()=>{K("/")},M=()=>{window.location.reload()},y=n=>{console.log("Step completed:",n),$fetch("/api/analytics",{method:"POST",body:{type:"step_completed",deviceId:c.value,errorId:v.value,stepId:n.id,timestamp:new Date().toISOString()}}).catch(console.error)},k=n=>{console.log("User stuck on step:",n),$fetch("/api/analytics",{method:"POST",body:{type:"user_stuck",deviceId:c.value,errorId:v.value,stepId:n.id,timestamp:new Date().toISOString()}}).catch(console.error)};return F({title:g(()=>s.value&&r.value?`${r.value.title} - ${s.value.name}`:"–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"),meta:[{name:"description",content:g(()=>r.value?`–ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: ${r.value.description}`:"–°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¢–í-–ø—Ä–∏—Å—Ç–∞–≤–æ–∫")}]}),(n,o)=>{var b,h,I,w,S;const P=U,R=V,T=j;return l(),m("div",W,[e("div",X,[e("div",Y,[e("nav",Z,[J(P,{to:"/",class:"hover:text-blue-600"},{default:q(()=>o[0]||(o[0]=[Q("–ì–ª–∞–≤–Ω–∞—è")])),_:1,__:[0]}),o[1]||(o[1]=e("span",null,"‚Üí",-1)),e("span",ee,a((b=t(s))==null?void 0:b.name),1),o[2]||(o[2]=e("span",null,"‚Üí",-1)),e("span",te,a((h=t(r))==null?void 0:h.title),1)]),e("div",oe,[e("div",null,[e("h1",re," –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: "+a((I=t(r))==null?void 0:I.title),1),e("p",se," –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: "+a((w=t(s))==null?void 0:w.name)+" ‚Ä¢ "+a((S=t(r))==null?void 0:S.description),1)]),e("div",ae,[e("button",{onClick:E,class:G(["px-4 py-2 rounded-lg font-medium transition-colors",t(d)?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},a(t(d)?"üë§ –†–µ–∂–∏–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞":"üë• –†–µ–∂–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"),3),e("button",{onClick:_,class:"btn-secondary"}," ‚Üê –ù–∞–∑–∞–¥ ")])])]),t(s)&&t(r)?(l(),m("div",ne,[t(s).id===4?(l(),B(R,{key:0,device:t(s),error:t(r),"operator-mode":t(d),onBack:_,onRestart:f,onStepCompleted:y,onUserStuck:k},null,8,["device","error","operator-mode"])):(l(),B(T,{key:1,device:t(s),error:t(r),"operator-mode":t(d),onBack:_,onRestart:f,onStepCompleted:y,onUserStuck:k},null,8,["device","error","operator-mode"]))])):(l(),m("div",ie,o[3]||(o[3]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400"},"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏...")],-1)]))),t(x)?(l(),m("div",de,[o[4]||(o[4]=e("div",{class:"text-red-500 text-6xl mb-4"},"‚ö†Ô∏è",-1)),o[5]||(o[5]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"},"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",-1)),o[6]||(o[6]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ",-1)),e("div",{class:"space-x-4"},[e("button",{onClick:M,class:"btn-primary"}," –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ "),e("button",{onClick:f,class:"btn-secondary"}," –ù–∞ –≥–ª–∞–≤–Ω—É—é ")])])):$("",!0),t(N)?(l(),m("div",le,[o[7]||(o[7]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-2"},"Debug Info:",-1)),e("div",ce,[e("div",null,"Device ID: "+a(t(p).params.device),1),e("div",null,"Error ID: "+a(t(p).params.error),1),e("div",null,"Operator Mode: "+a(t(d)),1),e("div",null,"Device Info: "+a(t(s)?"Loaded":"Loading..."),1),e("div",null,"Error Info: "+a(t(r)?"Loaded":"Loading..."),1)])])):$("",!0)])])}}};export{De as default};
