import{r as u,e as M,u as H,c as l,a as t,x as v,y as b,g as o,B as i,C as k,t as p,F as f,m as h,o as d}from"./sX_wM5Ua.js";const B={class:"p-6"},O={class:"card p-6 mb-8"},A={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I={class:"mt-6 flex space-x-4"},T=["disabled"],_={class:"card p-6 mb-8"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},j={class:"card p-6"},U={key:0,class:"space-y-4"},N={key:1,class:"space-y-4"},R={class:"flex-1"},L={class:"font-medium text-gray-900 dark:text-white"},F={class:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400"},E={class:"flex space-x-2"},J=["onClick"],P=["onClick"],Y={key:2,class:"text-center py-8"},Q={__name:"reports",setup(G){const c=u(!1),g=u(!1),n=u([]),r=u({type:"user_actions",startDate:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"json"}),y=async()=>{g.value=!0;try{const s=await $fetch("/api/admin/reports",{method:"POST",body:{type:r.value.type,startDate:r.value.startDate,endDate:r.value.endDate,format:r.value.format}});s.success&&(n.value.unshift({id:Date.now(),name:`${V(r.value.type)} (${r.value.startDate} - ${r.value.endDate})`,type:r.value.format.toUpperCase(),createdAt:new Date().toISOString(),size:"1.2 MB",downloadUrl:s.downloadUrl}),console.log("–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω"))}catch(s){console.error("–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞:",s)}finally{g.value=!1}},m=async s=>{const e=new Date;let a;switch(s){case"daily":a=new Date(e.getFullYear(),e.getMonth(),e.getDate());break;case"weekly":a=new Date(e.getTime()-10080*60*1e3);break;case"monthly":a=new Date(e.getFullYear(),e.getMonth(),1);break}r.value.startDate=a.toISOString().split("T")[0],r.value.endDate=e.toISOString().split("T")[0],r.value.type="user_actions",await y()},w=()=>{r.value={type:"user_actions",startDate:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"json"}},x=async()=>{c.value=!0;try{n.value=[{id:1,name:"–î–Ω–µ–≤–Ω–æ–π –æ—Ç—á–µ—Ç –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º",type:"JSON",createdAt:new Date(Date.now()-7200*1e3).toISOString(),size:"856 KB"},{id:2,name:"–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —à–∞–≥–æ–≤",type:"CSV",createdAt:new Date(Date.now()-300*60*1e3).toISOString(),size:"1.2 MB"},{id:3,name:"–ù–µ–¥–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤",type:"Excel",createdAt:new Date(Date.now()-1440*60*1e3).toISOString(),size:"2.1 MB"}]}catch(s){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–æ–≤:",s)}finally{c.value=!1}},D=s=>{console.log("–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞:",s.name)},S=s=>{confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç?")&&(n.value=n.value.filter(e=>e.id!==s))},V=s=>({user_actions:"–î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",step_performance:"–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤",device_analytics:"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤",error_analysis:"–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫",operator_metrics:"–ú–µ—Ç—Ä–∏–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤"})[s]||s,z=s=>new Date(s).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return M(()=>{x()}),H({title:"–û—Ç—á–µ—Ç—ã - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å",meta:[{name:"description",content:"–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏"}]}),(s,e)=>(d(),l("div",B,[e[22]||(e[22]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"–û—Ç—á–µ—Ç—ã"),t("p",{class:"text-gray-600 dark:text-gray-400"},"–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ")],-1)),t("div",O,[e[13]||(e[13]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç—á–µ—Ç–∞",-1)),t("div",A,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –¢–∏–ø –æ—Ç—á–µ—Ç–∞ ",-1)),v(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o(r).type=a),class:"input"},e[7]||(e[7]=[i('<option value="user_actions">–î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</option><option value="step_performance">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤</option><option value="device_analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤</option><option value="error_analysis">–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫</option><option value="operator_metrics">–ú–µ—Ç—Ä–∏–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</option>',5)]),512),[[b,o(r).type]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –ü–µ—Ä–∏–æ–¥ —Å ",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o(r).startDate=a),type:"date",class:"input"},null,512),[[k,o(r).startDate]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –ü–µ—Ä–∏–æ–¥ –ø–æ ",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o(r).endDate=a),type:"date",class:"input"},null,512),[[k,o(r).endDate]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," –§–æ—Ä–º–∞—Ç ",-1)),v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>o(r).format=a),class:"input"},e[11]||(e[11]=[t("option",{value:"json"},"JSON",-1),t("option",{value:"csv"},"CSV",-1),t("option",{value:"excel"},"Excel",-1)]),512),[[b,o(r).format]])])]),t("div",I,[t("button",{onClick:y,disabled:o(g),class:"btn-primary"},p(o(g)?"–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...":"üìä –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç"),9,T),t("button",{onClick:w,class:"btn-secondary"}," üîÑ –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã ")])]),t("div",_,[e[17]||(e[17]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç—á–µ—Ç—ã",-1)),t("div",$,[t("button",{onClick:e[4]||(e[4]=a=>m("daily")),class:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors text-left"},e[14]||(e[14]=[i('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20"><path d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zM4 8h12v8H4V8z"></path></svg></div><div><h3 class="font-medium text-gray-900 dark:text-white">–î–Ω–µ–≤–Ω–æ–π –æ—Ç—á–µ—Ç</h3><p class="text-sm text-gray-500 dark:text-gray-400">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è</p></div></div>',1)])),t("button",{onClick:e[5]||(e[5]=a=>m("weekly")),class:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors text-left"},e[15]||(e[15]=[i('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path></svg></div><div><h3 class="font-medium text-gray-900 dark:text-white">–ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç</h3><p class="text-sm text-gray-500 dark:text-gray-400">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é</p></div></div>',1)])),t("button",{onClick:e[6]||(e[6]=a=>m("monthly")),class:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors text-left"},e[16]||(e[16]=[i('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg></div><div><h3 class="font-medium text-gray-900 dark:text-white">–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç</h3><p class="text-sm text-gray-500 dark:text-gray-400">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü</p></div></div>',1)]))])]),t("div",j,[t("div",{class:"flex items-center justify-between mb-4"},[e[18]||(e[18]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç—á–µ—Ç—ã",-1)),t("button",{onClick:x,class:"btn-secondary text-sm"}," üîÑ –û–±–Ω–æ–≤–∏—Ç—å ")]),o(c)?(d(),l("div",U,[(d(),l(f,null,h(5,a=>t("div",{key:a,class:"animate-pulse flex items-center space-x-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},e[19]||(e[19]=[i('<div class="w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg"></div><div class="flex-1"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2"></div><div class="h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"></div></div><div class="w-20 h-8 bg-gray-200 dark:bg-gray-700 rounded"></div>',3)]))),64))])):o(n).length>0?(d(),l("div",N,[(d(!0),l(f,null,h(o(n),a=>(d(),l("div",{key:a.id,class:"flex items-center space-x-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors"},[e[20]||(e[20]=t("div",{class:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-primary-600 dark:text-primary-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"})])],-1)),t("div",R,[t("h3",L,p(a.name),1),t("div",F,[t("span",null,p(a.type),1),t("span",null,p(z(a.createdAt)),1),t("span",null,p(a.size),1)])]),t("div",E,[t("button",{onClick:C=>D(a),class:"px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded text-sm hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors"}," –°–∫–∞—á–∞—Ç—å ",8,J),t("button",{onClick:C=>S(a.id),class:"px-3 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded text-sm hover:bg-red-200 dark:hover:bg-red-800 transition-colors"}," –£–¥–∞–ª–∏—Ç—å ",8,P)])]))),128))])):(d(),l("div",Y,e[21]||(e[21]=[i('<div class="text-gray-400 mb-4"><svg class="w-12 h-12 mx-auto" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2"> –ù–µ—Ç –æ—Ç—á–µ—Ç–æ–≤ </h3><p class="text-gray-600 dark:text-gray-400"> –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–µ—Ä–≤—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö </p>',3)])))])]))}};export{Q as default};
